import{a as Qt,b as Et,c as Wt}from"./chunk-O7FSSDTK.js";import{a as te,b as St,c as ee}from"./chunk-IHLSMJDY.js";import{a as Pt,b as Nt,c as $t}from"./chunk-XWPLU23U.js";import{a as Vt,b as ft,c as Kt,d as _t}from"./chunk-SKS5Y57S.js";import{a as Gt}from"./chunk-LAIOXAAA.js";import{a as qt,b as vt,c as Zt}from"./chunk-EMCQSTQ6.js";import{a as Xt,b as Jt,c as Yt,d as Kr,e as xe,f as _r}from"./chunk-AN6MAY5Q.js";import{a as kt,b as Dt,c as Lt,d as w,e as zt,f as Bt,g as Ht,h as Hr,i as Gr,j as Vr}from"./chunk-2MMKAX67.js";import{a as $,b as Ar,c as yr,d as Ir,e as ye,f as Cr,g as Tr,h as Ie,i as Ce,k as Rr,l as D,m as xr,o as br,p as Or}from"./chunk-AJNMQDW7.js";import{c as Lr,d as zr,e as Br}from"./chunk-JDOLN2CX.js";import{$a as X,A as ot,B as G,C as x,Ca as pr,D as ge,E as ir,Eb as Ut,Fa as st,G as Ct,Ga as lr,H as or,J as nr,Ja as K,K as sr,Ka as Ft,N as ve,Pa as mr,Q as cr,R as ar,S as ur,T as fr,Ub as vr,V as b,Vb as Er,W as Tt,X as V,Xa as Ee,Xb as Sr,Y as ht,Za as Z,a as f,ab as Y,ac as Fr,b as m,bb as et,bc as L,ca as Rt,cb as Se,cc as Q,da as xt,db as Ae,dc as Te,e as dt,ec as wt,fc as jr,gb as dr,gc as Ur,h as Ye,hc as wr,ic as Mr,j as Qe,ja as l,jc as Pr,k as We,ka as bt,kc as Nr,l as tr,lb as rt,lc as Re,m as er,ma as M,mc as Mt,nb as hr,nc as $r,o as R,oc as _,pc as ut,qb as jt,qc as kr,rb as gt,s as rr,sa as d,sb as gr,t as p,ta as a,tc as Dr,ub as ct,uc as h,v as he,vb as at,vc as k,wa as Ot,xa as nt}from"./chunk-MAJDB3HN.js";var qr=[{path:"profiles/:slug",loadComponent:()=>import("./chunk-4E4PAJXW.js").then(e=>e.UserProfileComponent)},{path:"profiles/:slug/favorites",loadComponent:()=>import("./chunk-4E4PAJXW.js").then(e=>e.UserProfileComponent)},{path:"settings",loadComponent:()=>import("./chunk-3BDR7SOG.js").then(e=>e.SettingsComponent)},{path:"articles/new",loadComponent:()=>import("./chunk-C2Z32SKN.js").then(e=>e.CreateArticleComponent)},{path:"articles/:slug",loadComponent:()=>import("./chunk-2GBUL2AT.js").then(e=>e.ArticleComponent)},{path:"tags/:slug",loadComponent:()=>import("./chunk-6VM25VK6.js").then(e=>e.TagFeedComponent)},{path:"feed",loadComponent:()=>import("./chunk-3MR34ASB.js").then(e=>e.YourFeedComponent)},{path:"",loadComponent:()=>import("./chunk-VYGNIR7X.js").then(e=>e.GlobalfeedComponent)},{path:"register",loadComponent:()=>import("./chunk-FKRI7CRH.js").then(e=>e.RegisterComponent)},{path:"login",loadComponent:()=>import("./chunk-4QNMTCSE.js").then(e=>e.loginComponent)}];var yt="PERFORM_ACTION",uo="REFRESH",ei="RESET",ri="ROLLBACK",ii="COMMIT",oi="SWEEP",ni="TOGGLE_ACTION",si="SET_ACTIONS_ACTIVE",ci="JUMP_TO_STATE",ai="JUMP_TO_ACTION",Le="IMPORT_STATE",ui="LOCK_CHANGES",fi="PAUSE_RECORDING",pt=class{constructor(t,o){if(this.action=t,this.timestamp=o,this.type=yt,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},be=class{constructor(){this.type=uo}},Oe=class{constructor(t){this.timestamp=t,this.type=ei}},Fe=class{constructor(t){this.timestamp=t,this.type=ri}},je=class{constructor(t){this.timestamp=t,this.type=ii}},Ue=class{constructor(){this.type=oi}},we=class{constructor(t){this.id=t,this.type=ni}},Zr=class{constructor(t,o,r=!0){this.start=t,this.end=o,this.active=r,this.type=si}},Me=class{constructor(t){this.index=t,this.type=ci}},Pe=class{constructor(t){this.actionId=t,this.type=ai}},Ne=class{constructor(t){this.nextLiftedState=t,this.type=Le}},$e=class{constructor(t){this.status=t,this.type=ui}},ke=class{constructor(t){this.status=t,this.type=fi}},Xr=class{constructor(){this.maxAge=!1}},ne=new M("@ngrx/store-devtools Options"),Jr=new M("@ngrx/store-devtools Initial Config");function pi(){return null}var fo="NgRx Store DevTools";function po(e){let t={maxAge:!1,monitor:pi,actionSanitizer:void 0,stateSanitizer:void 0,name:fo,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},o=typeof e=="function"?e():e,r=o.logOnly?{pause:!0,export:!0,test:!0}:!1,i=o.features||r||t.features;i.import===!0&&(i.import="custom");let n=Object.assign({},t,{features:i},o);if(n.maxAge&&n.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${n.maxAge}`);return n}function Yr(e,t){return e.filter(o=>t.indexOf(o)<0)}function li(e){let{computedStates:t,currentStateIndex:o}=e;if(o>=t.length){let{state:i}=t[t.length-1];return i}let{state:r}=t[o];return r}function gn(e){return e.actionsById[e.nextActionId-1]}function At(e){return new pt(e,+Date.now())}function lo(e,t){return Object.keys(t).reduce((o,r)=>{let i=Number(r);return o[i]=mi(e,t[i],i),o},{})}function mi(e,t,o){return m(f({},t),{action:e(t.action,o)})}function mo(e,t){return t.map((o,r)=>({state:di(e,o.state,r),error:o.error}))}function di(e,t,o){return e(t,o)}function hi(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function ho(e,t,o,r){let i=[],n={},c=[];return e.stagedActionIds.forEach((s,g)=>{let E=e.actionsById[s];E&&(g&&ze(e.computedStates[g],E,t,o,r)||(n[s]=E,i.push(s),c.push(e.computedStates[g])))}),m(f({},e),{stagedActionIds:i,actionsById:n,computedStates:c})}function ze(e,t,o,r,i){let n=o&&!o(e,t.action),c=r&&!t.action.type.match(r.map(g=>Qr(g)).join("|")),s=i&&t.action.type.match(i.map(g=>Qr(g)).join("|"));return n||c||s}function Qr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gi(e){return{ngZone:e?a(mr):null,connectInZone:e}}var se=(()=>{let t=class t extends wt{};t.\u0275fac=(()=>{let r;return function(n){return(r||(r=pr(t)))(n||t)}})(),t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})(),re={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},De=new M("@ngrx/store-devtools Redux Devtools Extension"),vi=(()=>{let _DevtoolsExtension=class _DevtoolsExtension{constructor(e,t,o){this.config=t,this.dispatcher=o,this.zoneConfig=gi(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,t){if(this.devtoolsExtension)if(e.type===yt){if(t.isLocked||t.isPaused)return;let o=li(t);if(hi(this.config)&&ze(o,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let r=this.config.stateSanitizer?di(this.config.stateSanitizer,o,t.currentStateIndex):o,i=this.config.actionSanitizer?mi(this.config.actionSanitizer,e,t.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(i,r))}else{let o=m(f({},t),{stagedActionIds:t.stagedActionIds,actionsById:this.config.actionSanitizer?lo(this.config.actionSanitizer,t.actionsById):t.actionsById,computedStates:this.config.stateSanitizer?mo(this.config.stateSanitizer,t.computedStates):t.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new dt(e=>{let t=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=t,t.init(),t.subscribe(o=>e.next(o)),t.unsubscribe}):tr}createActionStreams(){let e=this.createChangesObservable().pipe(ur()),t=e.pipe(G(s=>s.type===re.START)),o=e.pipe(G(s=>s.type===re.STOP)),r=e.pipe(G(s=>s.type===re.DISPATCH),p(s=>this.unwrapAction(s.payload)),ge(s=>s.type===Le?this.dispatcher.pipe(G(g=>g.type===Re),rr(1e3),ir(1e3),p(()=>s),x(()=>R(s)),Ct(1)):R(s))),n=e.pipe(G(s=>s.type===re.ACTION),p(s=>this.unwrapAction(s.payload))).pipe(Tt(o)),c=r.pipe(Tt(o));this.start$=t.pipe(Tt(o)),this.actions$=this.start$.pipe(b(()=>n)),this.liftedActions$=this.start$.pipe(b(()=>c))}unwrapAction(action){return typeof action=="string"?eval(`(${action})`):action}getExtensionConfig(e){let t={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(t.maxAge=e.maxAge),t}sendToReduxDevtools(e){try{e()}catch(t){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",t)}}};_DevtoolsExtension.\u0275fac=function(t){return new(t||_DevtoolsExtension)(d(De),d(ne),d(se))},_DevtoolsExtension.\u0275prov=l({token:_DevtoolsExtension,factory:_DevtoolsExtension.\u0275fac});let DevtoolsExtension=_DevtoolsExtension;return DevtoolsExtension})(),oe={type:Te},go="@ngrx/store-devtools/recompute",vo={type:go};function Ei(e,t,o,r,i){if(r)return{state:o,error:"Interrupted by an error up the chain"};let n=o,c;try{n=e(o,t)}catch(s){c=s.toString(),i.handleError(s)}return{state:n,error:c}}function ie(e,t,o,r,i,n,c,s,g){if(t>=e.length&&e.length===n.length)return e;let E=e.slice(0,t),O=n.length-(g?1:0);for(let u=t;u<O;u++){let A=n[u],P=i[A].action,S=E[u-1],v=S?S.state:r,B=S?S.error:void 0,H=c.indexOf(A)>-1?S:Ei(o,P,v,B,s);E.push(H)}return g&&E.push(e[e.length-1]),E}function Eo(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:At(oe)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function So(e,t,o,r,i={}){return n=>(c,s)=>{let{monitorState:g,actionsById:E,nextActionId:O,stagedActionIds:u,skippedActionIds:A,committedState:P,currentStateIndex:S,computedStates:v,isLocked:B,isPaused:N}=c||t;c||(E=Object.create(E));function H(U){let I=U,J=u.slice(1,I+1);for(let z=0;z<J.length;z++)if(v[z+1].error){I=z,J=u.slice(1,I+1);break}else delete E[J[z]];A=A.filter(z=>J.indexOf(z)===-1),u=[0,...u.slice(I+1)],P=v[I].state,v=v.slice(I),S=S>I?S-I:0}function it(){E={0:At(oe)},O=1,u=[0],A=[],P=v[S].state,S=0,v=[]}let y=0;switch(s.type){case ui:{B=s.status,y=1/0;break}case fi:{N=s.status,N?(u=[...u,O],E[O]=new pt({type:"@ngrx/devtools/pause"},+Date.now()),O++,y=u.length-1,v=v.concat(v[v.length-1]),S===u.length-2&&S++,y=1/0):it();break}case ei:{E={0:At(oe)},O=1,u=[0],A=[],P=e,S=0,v=[];break}case ii:{it();break}case ri:{E={0:At(oe)},O=1,u=[0],A=[],S=0,v=[];break}case ni:{let{id:U}=s;A.indexOf(U)===-1?A=[U,...A]:A=A.filter(J=>J!==U),y=u.indexOf(U);break}case si:{let{start:U,end:I,active:J}=s,z=[];for(let de=U;de<I;de++)z.push(de);J?A=Yr(A,z):A=[...A,...z],y=u.indexOf(U);break}case ci:{S=s.index,y=1/0;break}case ai:{let U=u.indexOf(s.actionId);U!==-1&&(S=U),y=1/0;break}case oi:{u=Yr(u,A),A=[],S=Math.min(S,u.length-1);break}case yt:{if(B)return c||t;if(N||c&&ze(c.computedStates[S],s,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let I=v[v.length-1];v=[...v.slice(0,-1),Ei(n,s.action,I.state,I.error,o)],y=1/0;break}i.maxAge&&u.length===i.maxAge&&H(1),S===u.length-1&&S++;let U=O++;E[U]=s,u=[...u,U],y=u.length-1;break}case Le:{({monitorState:g,actionsById:E,nextActionId:O,stagedActionIds:u,skippedActionIds:A,committedState:P,currentStateIndex:S,computedStates:v,isLocked:B,isPaused:N}=s.nextLiftedState);break}case Te:{y=0,i.maxAge&&u.length>i.maxAge&&(v=ie(v,y,n,P,E,u,A,o,N),H(u.length-i.maxAge),y=1/0);break}case Re:{if(v.filter(I=>I.error).length>0)y=0,i.maxAge&&u.length>i.maxAge&&(v=ie(v,y,n,P,E,u,A,o,N),H(u.length-i.maxAge),y=1/0);else{if(!N&&!B){S===u.length-1&&S++;let I=O++;E[I]=new pt(s,+Date.now()),u=[...u,I],y=u.length-1,v=ie(v,y,n,P,E,u,A,o,N)}v=v.map(I=>m(f({},I),{state:n(I.state,vo)})),S=u.length-1,i.maxAge&&u.length>i.maxAge&&H(u.length-i.maxAge),y=1/0}break}default:{y=1/0;break}}return v=ie(v,y,n,P,E,u,A,o,N),g=r(g,s),{monitorState:g,actionsById:E,nextActionId:O,stagedActionIds:u,skippedActionIds:A,committedState:P,currentStateIndex:S,computedStates:v,isLocked:B,isPaused:N}}}var Wr=(()=>{let t=class t{constructor(r,i,n,c,s,g,E,O){let u=Eo(E,O.monitor),A=So(E,u,g,O.monitor,O),P=ot(ot(i.asObservable().pipe(fr(1)),c.actions$).pipe(p(At)),r,c.liftedActions$).pipe(er(We)),S=n.pipe(p(A)),v=gi(O.connectInZone),B=new Qe(1);this.liftedStateSubscription=P.pipe(ht(S),ti(v),ar(({state:it},[y,U])=>{let I=U(it,y);return y.type!==yt&&hi(O)&&(I=ho(I,O.predicate,O.actionsSafelist,O.actionsBlocklist)),c.notify(y,I),{state:I,action:y}},{state:u,action:null})).subscribe(({state:it,action:y})=>{if(B.next(it),y.type===yt){let U=y.action;s.next(U)}}),this.extensionStartSubscription=c.start$.pipe(ti(v)).subscribe(()=>{this.refresh()});let N=B.asObservable(),H=N.pipe(p(li));Object.defineProperty(H,"state",{value:Fr(H,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=r,this.liftedState=N,this.state=H}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(r){this.dispatcher.next(r)}next(r){this.dispatcher.next(r)}error(r){}complete(){}performAction(r){this.dispatch(new pt(r,+Date.now()))}refresh(){this.dispatch(new be)}reset(){this.dispatch(new Oe(+Date.now()))}rollback(){this.dispatch(new Fe(+Date.now()))}commit(){this.dispatch(new je(+Date.now()))}sweep(){this.dispatch(new Ue)}toggleAction(r){this.dispatch(new we(r))}jumpToAction(r){this.dispatch(new Pe(r))}jumpToState(r){this.dispatch(new Me(r))}importState(r){this.dispatch(new Ne(r))}lockChanges(r){this.dispatch(new $e(r))}pauseRecording(r){this.dispatch(new ke(r))}};t.\u0275fac=function(i){return new(i||t)(d(se),d(wt),d(Pr),d(vi),d(Mt),d(st),d(jr),d(ne))},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();function ti({ngZone:e,connectInZone:t}){return o=>t?new dt(r=>o.subscribe({next:i=>e.run(()=>r.next(i)),error:i=>e.run(()=>r.error(i)),complete:()=>e.run(()=>r.complete())})):o}var Ao=new M("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function yo(e,t){return!!e||t.monitor!==pi}function Io(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Be(e={}){return nt([vi,se,Wr,{provide:Jr,useValue:e},{provide:Ao,deps:[De,ne],useFactory:yo},{provide:De,useFactory:Io},{provide:ne,deps:[Jr],useFactory:po},{provide:$r,deps:[Wr],useFactory:Co},{provide:Nr,useExisting:se}])}function Co(e){return e.state}var vn=(()=>{let t=class t{static instrument(r={}){return{ngModule:t,providers:[Be(r)]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=bt({});let e=t;return e})();var lt=L(Gt.GET_CURRENT_USER),ae=L(Gt.GET_CURRENT_USER_SUCCESS,Q()),It=L(Gt.GET_CURRENT_USER_FAILURE);var Si={isSubmitting:!1,isLoading:!1,currentUser:null,validationErrors:null,isLoggedIn:null},Ai=k(Si,h(Qt,e=>m(f({},e),{isSubmitting:!0,validationErrors:null})),h(Et,(e,t)=>m(f({},e),{isSubmitting:!1,isLoggedIn:!0,currentUser:t.currentUser,validationErrors:null})),h(Wt,(e,t)=>m(f({},e),{isSubmitting:!1,validationErrors:t.errors})),h(te,e=>m(f({},e),{isSubmitting:!0,validationErrors:null})),h(St,(e,t)=>m(f({},e),{isSubmitting:!1,isLoggedIn:!0,currentUser:t.currentUser})),h(ee,(e,t)=>m(f({},e),{isSubmitting:!1,validationErrors:t.errors})),h(lt,e=>m(f({},e),{isLoading:!0})),h(ae,(e,t)=>m(f({},e),{isLoading:!1,isLoggedIn:!0,currentUser:t.currentUser})),h(It,e=>m(f({},e),{isLoading:!1,isLoggedIn:!1,currentUser:null})),h(ft,(e,t)=>m(f({},e),{currentUser:t.currentUser})),h(_t,e=>m(f(f({},e),Si),{isLoggedIn:!1})));var To={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ue="__@ngrx/effects_create__";function C(e,t={}){let o=t.functional?e:e(),r=f(f({},To),t);return Object.defineProperty(o,ue,{value:r}),o}function Ro(e){return Object.getOwnPropertyNames(e).filter(r=>e[r]&&e[r].hasOwnProperty(ue)?e[r][ue].hasOwnProperty("dispatch"):!1).map(r=>{let i=e[r][ue];return f({propertyName:r},i)})}function xo(e){return Ro(e)}function yi(e){return Object.getPrototypeOf(e)}function bo(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Ii(e){return typeof e=="function"}function Oo(e){return e.filter(Ii)}function Fo(e,t,o){let r=yi(e),n=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,c=xo(e).map(({propertyName:s,dispatch:g,useEffectsErrorHandler:E})=>{let O=typeof e[s]=="function"?e[s]():e[s],u=E?o(O,t):O;return g===!1?u.pipe(or()):u.pipe(cr()).pipe(p(P=>({effect:e[s],notification:P,propertyName:s,sourceName:n,sourceInstance:e})))});return ot(...c)}var jo=10;function Ci(e,t,o=jo){return e.pipe(x(r=>(t&&t.handleError(r),o<=1?e:Ci(e,t,o-1))))}var j=(()=>{let t=class t extends dt{constructor(r){super(),r&&(this.source=r)}lift(r){let i=new t;return i.source=this,i.operator=r,i}};t.\u0275fac=function(i){return new(i||t)(d(Mt))},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function T(...e){return G(t=>e.some(o=>typeof o=="string"?o===t.type:o.type===t.type))}var Gn=new M("@ngrx/effects Internal Root Guard"),Vn=new M("@ngrx/effects User Provided Effects"),Kn=new M("@ngrx/effects Internal Root Effects"),_n=new M("@ngrx/effects Internal Root Effects Instances"),qn=new M("@ngrx/effects Internal Feature Effects"),Zn=new M("@ngrx/effects Internal Feature Effects Instance Groups"),Uo=new M("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Ci}),wo="@ngrx/effects/init",Mo=L(wo);function Po(e,t){if(e.notification.kind==="N"){let o=e.notification.value;!No(o)&&t.handleError(new Error(`Effect ${$o(e)} dispatched an invalid action: ${ko(o)}`))}}function No(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function $o({propertyName:e,sourceInstance:t,sourceName:o}){let r=typeof t[e]=="function";return!!o?`"${o}.${String(e)}${r?"()":""}"`:`"${String(e)}()"`}function ko(e){try{return JSON.stringify(e)}catch{return e}}var Do="ngrxOnIdentifyEffects";function Lo(e){return He(e,Do)}var zo="ngrxOnRunEffects";function Bo(e){return He(e,zo)}var Ho="ngrxOnInitEffects";function Go(e){return He(e,Ho)}function He(e,t){return e&&t in e&&typeof e[t]=="function"}var Ti=(()=>{let t=class t extends Ye{constructor(r,i){super(),this.errorHandler=r,this.effectsErrorHandler=i}addEffects(r){this.next(r)}toActions(){return this.pipe(ve(r=>bo(r)?yi(r):r),he(r=>r.pipe(ve(Vo))),he(r=>{let i=r.pipe(sr(c=>Ko(this.errorHandler,this.effectsErrorHandler)(c)),p(c=>(Po(c,this.errorHandler),c.notification)),G(c=>c.kind==="N"&&c.value!=null),nr()),n=r.pipe(Ct(1),G(Go),p(c=>c.ngrxOnInitEffects()));return ot(i,n)}))}};t.\u0275fac=function(i){return new(i||t)(d(st),d(Uo))},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Vo(e){return Lo(e)?e.ngrxOnIdentifyEffects():""}function Ko(e,t){return o=>{let r=Fo(o,e,t);return Bo(o)?o.ngrxOnRunEffects(r):r}}var _o=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(r,i){this.effectSources=r,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(d(Ti),d(_))},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ri(...e){let t=e.flat(),o=Oo(t);return nt([o,{provide:Ot,multi:!0,useValue:()=>{a(wr),a(Mr,{optional:!0});let r=a(_o),i=a(Ti),n=!r.isStarted;n&&r.start();for(let c of t){let s=Ii(c)?a(c):c;i.addEffects(s)}n&&a(_).dispatch(Mo())}}])}var W=(()=>{let t=class t{getUser(r){return r.user}constructor(r){this.http=r}register(r){let i=w.apiUrl+"/users";return this.http.post(i,r).pipe(p(this.getUser))}login(r){let i=w.apiUrl+"/users/login";return this.http.post(i,r).pipe(p(this.getUser))}getCurrentUser(){let r=w.apiUrl+"/user";return this.http.get(r).pipe(p(i=>i.user))}updateCurrentUser(r){let i=w.apiUrl+"/user";return this.http.put(i,r).pipe(p(this.getUser))}};t.\u0275fac=function(i){return new(i||t)(d($))},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var tt=(()=>{let t=class t{set(r,i){try{localStorage.setItem(r,JSON.stringify(i))}catch(n){console.error("Error saving to localStorage",n)}}get(r){try{let i=localStorage.getItem(r);return i===null?null:JSON.parse(i)}catch(i){return console.error("Error getting data from localStorage",i),null}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var xi=(()=>{let t=class t{constructor(r,i,n,c){this.actions$=r,this.authService=i,this.persistanceService=n,this.router=c,this.register$=C(()=>this.actions$.pipe(T(Qt),b(({request:s})=>this.authService.register(s).pipe(p(g=>(this.persistanceService.set("accessToken",g.token),Et({currentUser:g}))),x(g=>R(Wt({errors:g.error.errors}))))))),this.redirectAfterSubmit$=C(()=>this.actions$.pipe(T(Et),V(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}};t.\u0275fac=function(i){return new(i||t)(d(j),d(W),d(tt),d(D))},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var bi=(()=>{let t=class t{constructor(r,i,n,c){this.actions$=r,this.authService=i,this.persistanceService=n,this.router=c,this.login$=C(()=>this.actions$.pipe(T(te),b(({request:s})=>this.authService.login(s).pipe(p(g=>(this.persistanceService.set("accessToken",g.token),St({currentUser:g}))),x(g=>R(ee({errors:g.error.errors}))))))),this.redirectAfterSubmit$=C(()=>this.actions$.pipe(T(St),V(()=>{this.router.navigateByUrl("/")})),{dispatch:!1})}};t.\u0275fac=function(i){return new(i||t)(d(j),d(W),d(tt),d(D))},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var Oi=(()=>{let t=class t{constructor(r,i,n){this.actions$=r,this.authService=i,this.persistanceService=n,this.getCurrentUser$=C(()=>this.actions$.pipe(T(lt),b(()=>this.persistanceService.get("accessToken")?this.authService.getCurrentUser().pipe(p(s=>ae({currentUser:s})),x(()=>R(It()))):R(It()))))}};t.\u0275fac=function(i){return new(i||t)(d(j),d(W),d(tt))},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();function Fi(e,t){let r=a(tt).get("accessToken");return e=e.clone({setHeaders:{Authorization:r?`Token ${r}`:""}}),t(e)}var Mi="@ngrx/router-store/request",xs=L(Mi,Q()),qe="@ngrx/router-store/navigation",mt=L(qe,Q()),Ze="@ngrx/router-store/cancel",bs=L(Ze,Q()),Xe="@ngrx/router-store/error",Os=L(Xe,Q()),Pi="@ngrx/router-store/navigated",Fs=L(Pi,Q());function Ni(e,t){let o=t;switch(o.type){case qe:case Xe:case Ze:return{state:o.payload.routerState,navigationId:o.payload.event.id};default:return e}}var fe=class{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){let o=t.children.map(r=>this.serializeRoute(r));return{params:t.params,data:t.data,url:t.url,outlet:t.outlet,title:t.title,routeConfig:t.routeConfig?{path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet,title:typeof t.routeConfig.title=="string"?t.routeConfig.title:void 0}:null,queryParams:t.queryParams,fragment:t.fragment,firstChild:o[0],children:o}}},Je=function(e){return e[e.PreActivation=1]="PreActivation",e[e.PostActivation=2]="PostActivation",e}(Je||{}),qo="router",ji=new M("@ngrx/router-store Internal Configuration"),$i=new M("@ngrx/router-store Configuration");function Zo(e){return f({stateKey:qo,serializer:fe,navigationActionTiming:Je.PreActivation},e)}var pe=class{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){let o=t.children.map(r=>this.serializeRoute(r));return{params:t.params,paramMap:t.paramMap,data:t.data,url:t.url,outlet:t.outlet,title:t.title,routeConfig:t.routeConfig?{component:t.routeConfig.component,path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet,title:t.routeConfig.title}:null,queryParams:t.queryParams,queryParamMap:t.queryParamMap,fragment:t.fragment,component:t.routeConfig?t.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:o[0],pathFromRoot:void 0,children:o}}},le=class{},q=function(e){return e[e.NONE=1]="NONE",e[e.ROUTER=2]="ROUTER",e[e.STORE=3]="STORE",e}(q||{}),Ui=(()=>{let t=class t{constructor(r,i,n,c,s,g){this.store=r,this.router=i,this.serializer=n,this.errorHandler=c,this.config=s,this.activeRuntimeChecks=g,this.lastEvent=null,this.routerState=null,this.trigger=q.NONE,this.stateKey=this.config.stateKey,!kr()&&Ut()&&(g?.strictActionSerializability||g?.strictStateSerializability)&&this.serializer instanceof pe&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(ut(this.stateKey),ht(this.store)).subscribe(([r,i])=>{this.navigateIfNeeded(r,i)})}navigateIfNeeded(r,i){if(!r||!r.state||this.trigger===q.ROUTER||this.lastEvent instanceof ye)return;let n=r.state.url;Xo(this.router.url,n)||(this.storeState=i,this.trigger=q.STORE,this.router.navigateByUrl(n).catch(c=>{this.errorHandler.handleError(c)}))}setUpRouterEventsListener(){let r=this.config.navigationActionTiming===Je.PostActivation,i;this.router.events.pipe(ht(this.store)).subscribe(([n,c])=>{this.lastEvent=n,n instanceof ye?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==q.STORE&&(this.storeState=c,this.dispatchRouterRequest(n))):n instanceof Ce?(i=n,!r&&this.trigger!==q.STORE&&this.dispatchRouterNavigation(n)):n instanceof Tr?(this.dispatchRouterCancel(n),this.reset()):n instanceof Ie?(this.dispatchRouterError(n),this.reset()):n instanceof Cr&&(this.trigger!==q.STORE&&(r&&this.dispatchRouterNavigation(i),this.dispatchRouterNavigated(n)),this.reset())})}dispatchRouterRequest(r){this.dispatchRouterAction(Mi,{event:r})}dispatchRouterNavigation(r){let i=this.serializer.serialize(r.state);this.dispatchRouterAction(qe,{routerState:i,event:new Ce(r.id,r.url,r.urlAfterRedirects,i)})}dispatchRouterCancel(r){this.dispatchRouterAction(Ze,{storeState:this.storeState,event:r})}dispatchRouterError(r){this.dispatchRouterAction(Xe,{storeState:this.storeState,event:new Ie(r.id,r.url,`${r}`)})}dispatchRouterNavigated(r){let i=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(Pi,{event:r,routerState:i})}dispatchRouterAction(r,i){this.trigger=q.ROUTER;try{this.store.dispatch({type:r,payload:m(f({routerState:this.routerState},i),{event:this.config.routerState===0?i.event:{id:i.event.id,url:i.event.url,urlAfterRedirects:i.event.urlAfterRedirects}})})}finally{this.trigger=q.NONE}}reset(){this.trigger=q.NONE,this.storeState=null,this.routerState=null}};t.\u0275fac=function(i){return new(i||t)(d(_),d(D),d(le),d(st),d($i),d(Ur))},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();function Xo(e,t){return wi(e)===wi(t)}function wi(e){return e?.length>0&&e[e.length-1]==="/"?e.substring(0,e.length-1):e}function ki(e={}){return nt([{provide:ji,useValue:e},{provide:$i,useFactory:Zo,deps:[ji]},{provide:le,useClass:e.serializer?e.serializer:e.routerState===0?pe:fe},{provide:Ot,multi:!0,useFactory(){return()=>a(Ui)}},Ui])}var Di={data:null,isLoading:!1,error:null},Li=k(Di,h(kt,e=>m(f({},e),{isLoading:!0})),h(Dt,(e,t)=>m(f({},e),{isLoading:!1,data:t.feed})),h(Lt,e=>m(f({},e),{isLoading:!1})),h(mt,()=>Di));var zi=(()=>{let t=class t{constructor(){this.http=a($)}getFeed(r){let i=w.apiUrl+r;return this.http.get(i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Bi=(()=>{let t=class t{constructor(){this.actions$=a(j),this.feedService=a(zi),this.getFeed$=C(()=>this.actions$.pipe(T(kt),b(({url:r})=>this.feedService.getFeed(r).pipe(p(i=>Dt({feed:i})),x(()=>R(Lt()))))))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var Hi=(()=>{let t=class t{constructor(){this.http=a($)}getPopularTags(){let r=w.apiUrl+"/tags";return this.http.get(r).pipe(p(i=>i.tags))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Gi=(()=>{let t=class t{constructor(){this.actions$=a(j),this.popularTagsService=a(Hi),this.getPopularTags$=C(()=>this.actions$.pipe(T(zt),b(()=>this.popularTagsService.getPopularTags().pipe(p(r=>Bt({popularTags:r})),x(()=>R(Ht()))))))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var Vi={data:null,isLoading:!1,error:null},Ki=k(Vi,h(zt,e=>m(f({},e),{isLoading:!0})),h(Bt,(e,t)=>m(f({},e),{isLoading:!1,data:t.popularTags})),h(Ht,e=>m(f({},e),{isLoading:!1})),h(mt,()=>Vi));var _i={data:null,isLoading:!1,error:null},qi=k(_i,h(Xt,e=>m(f({},e),{isLoading:!0})),h(Jt,(e,t)=>m(f({},e),{isLoading:!1,data:t.article})),h(Yt,e=>m(f({},e),{isLoading:!1})),h(mt,()=>_i));var me=(()=>{let t=class t{constructor(){this.http=a($)}getArticle(r){let i=`${w.apiUrl}/articles/${r}`;return this.http.get(i).pipe(p(n=>n.article))}deleteArticle(r){let i=`${w.apiUrl}/articles/${r}`;return this.http.delete(i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Zi=(()=>{let t=class t{constructor(){this.actions$=a(j),this.sharedArticleService=a(me),this.getArticle$=C(()=>this.actions$.pipe(T(Xt),b(({slug:r})=>this.sharedArticleService.getArticle(r).pipe(p(i=>Jt({article:i})),x(()=>R(Yt()))))))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var Xi=(()=>{let t=class t{constructor(){this.actions$=a(j),this.articleService=a(me),this.router=a(D),this.deleteArticle$=C(()=>this.actions$.pipe(T(Kr),b(({slug:r})=>this.articleService.deleteArticle(r).pipe(p(()=>xe()),x(()=>R(_r())))))),this.redirectAfterDelete$=C(()=>this.actions$.pipe(T(xe),V(()=>{this.router.navigate(["/"])})),{dispatch:!1})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var Ji=(()=>{let t=class t{constructor(){this.http=a($)}createArticle(r){let i=w.apiUrl+"/articles";return this.http.post(i,r).pipe(p(n=>n.article))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Yi=(()=>{let t=class t{constructor(){this.actions$=a(j),this.createArticleService=a(Ji),this.router=a(D),this.createArticle$=C(()=>this.actions$.pipe(T(qt),b(({articleInput:r})=>this.createArticleService.createArticle(r).pipe(p(i=>vt({article:i})),x(i=>R(Zt({errors:i.error.errors}))))))),this.redirectAfterCreate$=C(()=>this.actions$.pipe(T(vt),V(({article:r})=>{this.router.navigate(["/articles",r.slug])})),{dispatch:!1})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var Jo={isSubmitting:!1,validationErrors:null},Qi=k(Jo,h(qt,e=>m(f({},e),{isSubmitting:!0})),h(vt,e=>m(f({},e),{isSubmitting:!1})),h(Zt,(e,t)=>m(f({},e),{isSubmitting:!1,validationErrors:t.errors})));var Wi=(()=>{let t=class t{constructor(){this.actions$=a(j),this.authService=a(W),this.router=a(D),this.updateCurrentUser$=C(()=>this.actions$.pipe(T(Vt),b(({currentUserInput:r})=>this.authService.updateCurrentUser(r).pipe(p(i=>ft({currentUser:i})),x(i=>R(Kt({errors:i.error.errors}))))))),this.redirectAfterCreate$=C(()=>this.actions$.pipe(T(_t),V(()=>{this.router.navigate([""])})),{dispatch:!1})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var Yo={isSubmitting:!1,validationErrors:null},to=k(Yo,h(Vt,e=>m(f({},e),{isSubmitting:!0})),h(ft,e=>m(f({},e),{isSubmitting:!1})),h(Kt,(e,t)=>m(f({},e),{isSubmitting:!1,validationErrors:t.errors})));var eo=(()=>{let t=class t{constructor(){this.http=a($)}getUrl(r){return`${w.apiUrl}/articles/${r}/favorite`}addToFavorites(r){let i=this.getUrl(r);return this.http.post(i,{}).pipe(p(this.getArticle))}removeFromFavorites(r){let i=this.getUrl(r);return this.http.delete(i).pipe(p(this.getArticle))}getArticle(r){return r.article}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ro=(()=>{let t=class t{constructor(){this.actions$=a(j),this.addToFavoritesService=a(eo),this.addToFavorites$=C(()=>this.actions$.pipe(T(Hr),b(({isFavorited:r,slug:i})=>(r?this.addToFavoritesService.removeFromFavorites(i):this.addToFavoritesService.addToFavorites(i)).pipe(p(c=>Gr({article:c})),x(()=>R(Vr()))))))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var io=(()=>{let t=class t{constructor(){this.http=a($)}getUserProfile(r){let i=`${w.apiUrl}/profiles/${r}`;return this.http.get(i).pipe(p(n=>n.profile))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var oo=(()=>{let t=class t{constructor(){this.actions$=a(j),this.userProfileService=a(io),this.getUserProfile$=C(()=>this.actions$.pipe(T(Pt),b(({slug:r})=>this.userProfileService.getUserProfile(r).pipe(p(i=>Nt({userProfile:i})),x(()=>R($t()))))))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=l({token:t,factory:t.\u0275fac});let e=t;return e})();var Qo={data:null,isLoading:!1,error:null},no=k(Qo,h(Pt,e=>m(f({},e),{isLoading:!0})),h(Nt,(e,t)=>m(f({},e),{isLoading:!1,data:t.userProfile})),h($t,e=>m(f({},e),{isLoading:!1})));var so={providers:[br(qr),Dr({auth:Ai,feed:Li,popularTags:Ki,router:Ni,article:qi,createArticle:Qi,settings:to,userProfile:no}),Be({maxAge:20,logOnly:!Ut()}),Ri(xi,bi,Oi,Bi,Gi,Zi,Xi,Yi,Wi,ro,oo),Ar(yr([Fi])),ki()]};var Wo=()=>["/settings"],tn=e=>["/profiles",e];function en(e,t){if(e&1&&(Se(0),X(1,"li")(2,"a",5)(3,"div",2),et(4,"img",8),rt(5," \xA0 Settings "),Y()()(),X(6,"li",9)(7,"a",10),ct(8,"async"),X(9,"div",2),et(10,"img",11),ct(11,"async"),rt(12),ct(13,"async"),Y()()(),Ae()),e&2){let o=dr(),r,i,n;K(2),Z("routerLink",gt(10,Wo)),K(5),Z("routerLink",gr(11,tn,(r=at(8,4,o.currentUser$))==null?null:r.username)),K(3),Z("src",(i=at(11,6,o.currentUser$))==null?null:i.image,lr),K(2),hr(" \xA0 ",(n=at(13,8,o.currentUser$))==null?null:n.username," ")}}var rn=()=>["/login"],on=()=>["/register"];function nn(e,t){e&1&&(Se(0),X(1,"li")(2,"a",5),rt(3," Sign in "),Y()(),X(4,"li")(5,"a",5),rt(6," Sign up "),Y()(),Ae()),e&2&&(K(2),Z("routerLink",gt(2,rn)),K(3),Z("routerLink",gt(3,on)))}var sn=()=>["/"],co=(()=>{let t=class t{constructor(r){this.store=r}ngOnInit(){this.isLoggedIn$=this.store.pipe(ut(Lr)),this.isAnonymous$=this.store.pipe(ut(zr)),this.currentUser$=this.store.pipe(ut(Br))}};t.\u0275fac=function(i){return new(i||t)(Ft(_))},t.\u0275cmp=Rt({type:t,selectors:[["app-topbar"]],standalone:!0,features:[jt],decls:16,vars:8,consts:[[1,"header"],[1,"header-logo"],[1,"img"],["src","assets/home_logo.svg"],[1,"header-menu"],[3,"routerLink"],["src","assets/home.svg"],[4,"ngIf"],["src","assets/settings.svg"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-avatar",3,"src"]],template:function(i,n){i&1&&(X(0,"nav",0)(1,"div",1)(2,"div",2),et(3,"img",3),X(4,"p"),rt(5," medium "),Y()()(),X(6,"ul",4)(7,"li")(8,"a",5)(9,"div",2),et(10,"img",6),rt(11," \xA0Home "),Y()()(),Ee(12,en,14,13,"ng-container",7),ct(13,"async"),Ee(14,nn,7,4,"ng-container",7),ct(15,"async"),Y()()),i&2&&(K(8),Z("routerLink",gt(7,sn)),K(4),Z("ngIf",at(13,3,n.isLoggedIn$)),K(2),Z("ngIf",at(15,5,n.isAnonymous$)))},dependencies:[Sr,vr,Er,Or,xr],styles:[".header[_ngcontent-%COMP%]{background-color:#333;display:flex;align-items:center;justify-content:space-between;padding:20px 60px;color:#fff}.header-logo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:25px;font-weight:700;color:#fff;text-decoration:none;transition:all .3s ease-in-out}.header-menu[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex;align-items:center}.header-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:20px;margin-right:10px;transition:all .3s ease-in-out}.header-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.header-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.header-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.nav-avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin-right:5px}.img[_ngcontent-%COMP%]{display:flex}"]});let e=t;return e})();var ao=(()=>{let t=class t{constructor(r){this.store=r,this.title="clone-medium-angular"}ngOnInit(){this.store.dispatch(lt())}};t.\u0275fac=function(i){return new(i||t)(Ft(_))},t.\u0275cmp=Rt({type:t,selectors:[["app-root"]],standalone:!0,features:[jt],decls:2,vars:0,template:function(i,n){i&1&&et(0,"app-topbar")(1,"router-outlet")},dependencies:[Rr,co],encapsulation:2});let e=t;return e})();Ir(ao,so).catch(e=>console.error(e));
