import{a as L}from"./chunk-EMCQSTQ6.js";import{a as N,c as V,d as A,e as w,f as O,g as I,h as D,i as z}from"./chunk-CG5UB6QT.js";import{a as k}from"./chunk-EZA3D2WA.js";import{$a as o,Ja as u,Ub as P,Vb as _,Xa as v,Xb as g,Za as a,_ as E,ab as i,ba as p,bb as s,ca as c,fb as f,gb as x,lb as l,oc as F,pc as C,qb as b,rc as y,sc as M,ta as d,ub as S,vb as h}from"./chunk-MAJDB3HN.js";var T=M("createArticle"),B=y(T,e=>e.isSubmitting),G=y(T,e=>e.validationErrors);function J(e,t){if(e&1&&s(0,"app-backend-error-messages",13),e&2){let $=x();a("backendErrors",$.errorsProps)}}var W=(()=>{let t=class t{constructor(){this.fb=d(D),this.articleSubmitEvent=new E}ngOnInit(){this.initializeForm()}initializeForm(){this.form=this.fb.group({title:this.initialValuesProps.title,description:this.initialValuesProps.description,body:this.initialValuesProps.body,tagList:this.initialValuesProps.tagList.join(" ")})}onSubmit(){this.articleSubmitEvent.emit(this.form.value)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c({type:t,selectors:[["app-article-form"]],inputs:{initialValuesProps:[p.None,"initialValues","initialValuesProps"],isSubmittingProps:[p.None,"isSubmitting","isSubmittingProps"],errorsProps:[p.None,"errors","errorsProps"]},outputs:{articleSubmitEvent:"articleSubmit"},standalone:!0,features:[b],decls:23,vars:3,consts:[[1,"container"],[3,"backendErrors",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"field"],["for","title"],["type","text","placeholder","Article title","formControlName","title",1,"input"],["for","description"],["type","text","placeholder","What is this article about?","formControlName","description",1,"input"],["for","body"],["rows","8","placeholder","Write your article (in markdown)","formControlName","body",1,"textarea"],["for","tagList"],["type","text","placeholder","Enter tags","formControlName","tagList",1,"input"],["type","submit",1,"button",3,"disabled"],[3,"backendErrors"]],template:function(n,r){n&1&&(o(0,"div",0),v(1,J,1,1,"app-backend-error-messages",1),o(2,"form",2),f("ngSubmit",function(){return r.onSubmit()}),o(3,"fieldset")(4,"fieldset",3)(5,"label",4),l(6,"Article title"),i(),s(7,"input",5),i(),o(8,"fieldset",3)(9,"label",6),l(10,"What is this article about?"),i(),s(11,"input",7),i(),o(12,"fieldset",3)(13,"label",8),l(14,"Write your article (in markdown)"),i(),s(15,"textarea",9),i(),o(16,"fieldset",3)(17,"label",10),l(18,"Enter tags"),i(),s(19,"input",11),i(),o(20,"fieldset")(21,"button",12),l(22," Publish article "),i()()()()()),n&2&&(u(),a("ngIf",r.errorsProps),u(),a("formGroup",r.form),u(19),a("disabled",r.form.invalid||r.isSubmittingProps))},dependencies:[g,P,k,z,w,N,V,A,O,I],styles:["*[_ngcontent-%COMP%]{border:none}.container[_ngcontent-%COMP%]{max-width:100%;padding:3rem;font-size:20px;border:none}.field[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:10px;border:none}.input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:15px;font-size:20px}.textarea[_ngcontent-%COMP%]{width:100%;height:10rem;padding:.5rem;border:1px solid #ccc;border-radius:10px}.button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:10px;background-color:#333;color:#fff;font-size:20px;cursor:pointer}.button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]});let e=t;return e})();var de=(()=>{let t=class t{constructor(){this.store=d(F),this.initialValues={title:"",description:"",body:"",tagList:[]}}ngOnInit(){this.isSubmitting$=this.store.pipe(C(B)),this.backendErrors$=this.store.pipe(C(G))}onSubmit(m){this.store.dispatch(L({articleInput:m}))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c({type:t,selectors:[["app-create-article"]],standalone:!0,features:[b],decls:3,vars:7,consts:[[3,"initialValues","isSubmitting","errors","articleSubmit"]],template:function(n,r){n&1&&(o(0,"app-article-form",0),f("articleSubmit",function(R){return r.onSubmit(R)}),S(1,"async"),S(2,"async"),i()),n&2&&a("initialValues",r.initialValues)("isSubmitting",h(1,3,r.isSubmitting$))("errors",h(2,5,r.backendErrors$))},dependencies:[g,_,W]});let e=t;return e})();export{de as CreateArticleComponent};
