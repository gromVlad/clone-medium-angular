import{a as Q,d as W}from"./chunk-AN6MAY5Q.js";import{a as H,b as J,c as K}from"./chunk-IRSJWLOQ.js";import{j as B,m as j,p as N}from"./chunk-AJNMQDW7.js";import{e as G}from"./chunk-JDOLN2CX.js";import{$a as a,Ga as L,Ja as n,Ub as F,Vb as $,Wb as R,Xa as s,Xb as V,Za as o,ab as r,bb as C,ca as P,eb as k,fa as I,fb as T,ga as E,gb as m,kb as v,lb as p,mb as u,nb as z,oc as U,pc as d,qb as D,rc as x,sb as b,sc as q,t as A,ta as h,u as O,ub as g,vb as f,wb as w,xb as y}from"./chunk-MAJDB3HN.js";var S=q("article"),X=x(S,e=>e.isLoading),Y=x(S,e=>e.error),M=x(S,e=>e.data);var Z=e=>["/profiles",e];function te(e,i){if(e&1&&(a(0,"div",5)(1,"h1"),p(2),r(),a(3,"div",6)(4,"a",7),C(5,"img",8),r(),a(6,"div",9)(7,"a",7),p(8),r(),a(9,"span",10),p(10),g(11,"date"),r()()()()),e&2){let t=m();n(2),u(t.article.title),n(2),o("routerLink",b(9,Z,t.article.author.username)),n(),o("src",t.article.author.image,L),n(2),o("routerLink",b(11,Z,t.article.author.username)),n(),z(" ",t.article.author.username," "),n(2),u(w(11,6,t.article.createdAt,"medium"))}}function ie(e,i){if(e&1){let t=k();a(0,"div")(1,"button",11),T("click",function(){I(t);let l=m();return E(l.deleteArticle())}),p(2," Delete Article "),r()()}}function ne(e,i){e&1&&(a(0,"div",12)(1,"app-loading"),p(2,"Loading..."),r()())}function re(e,i){e&1&&(a(0,"div",12)(1,"app-error-message"),p(2,"Some error happened..."),r()())}function oe(e,i){if(e&1&&(a(0,"div",12)(1,"div")(2,"p"),p(3),r()(),C(4,"app-tag-list",15),r()),e&2){let t=m(3);n(3),u(t.article.body),n(),o("tags",t.article.tagList)}}function ae(e,i){if(e&1&&s(0,oe,5,2,"div",14),e&2){let t=m(2);o("ngIf",t.article)}}function ce(e,i){if(e&1&&(s(0,re,3,0,"div",3),g(1,"async"),s(2,ae,1,1,"ng-template",null,13,y)),e&2){let t=v(3),c=m();o("ngIf",f(1,2,c.error$))("ngIfElse",t)}}var Oe=(()=>{let i=class i{constructor(){this.store=h(U),this.route=h(B)}ngOnInit(){this.initializeValues(),this.initializeListeners(),this.fetchData()}ngOnDestroy(){this.articleSubscription.unsubscribe()}initializeValues(){this.slug=this.route.snapshot.paramMap.get("slug"),this.isLoading$=this.store.pipe(d(X)),this.error$=this.store.pipe(d(Y)),this.isAuthor$=O(this.store.pipe(d(M)),this.store.pipe(d(G))).pipe(A(([c,l])=>!c||!l?!1:l.username===c.author.username))}initializeListeners(){this.articleSubscription=this.store.pipe(d(M)).subscribe(c=>{this.article=c})}fetchData(){this.store.dispatch(Q({slug:this.slug}))}deleteArticle(){this.store.dispatch(W({slug:this.slug}))}};i.\u0275fac=function(l){return new(l||i)},i.\u0275cmp=P({type:i,selectors:[["app-article"]],standalone:!0,features:[D],decls:8,vars:8,consts:[[1,"article-container"],["class","article-header",4,"ngIf"],[4,"ngIf"],["class","article-body",4,"ngIf","ngIfElse"],["content",""],[1,"article-header"],[1,"author-info"],[3,"routerLink"],[3,"src"],[1,"author-details"],[1,"created-at"],[1,"delete-button",3,"click"],[1,"article-body"],["articleContent",""],["class","article-body",4,"ngIf"],[3,"tags"]],template:function(l,_){if(l&1&&(a(0,"div",0),s(1,te,12,13,"div",1)(2,ie,3,0,"div",2),g(3,"async"),s(4,ne,3,0,"div",3),g(5,"async"),s(6,ce,4,4,"ng-template",null,4,y),r()),l&2){let ee=v(7);n(),o("ngIf",_.article),n(),o("ngIf",f(3,4,_.isAuthor$)),n(2),o("ngIf",f(5,6,_.isLoading$))("ngIfElse",ee)}},dependencies:[V,F,$,R,N,j,H,J,K],styles:[".article-container[_ngcontent-%COMP%]{padding:20px;margin:5px;background-color:#f5f5f5;border-radius:15px}.article-header[_ngcontent-%COMP%]{display:flex;margin-bottom:10px;flex-direction:column}h1[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.author-info[_ngcontent-%COMP%]{display:flex;align-items:center}.author-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700;margin-right:10px}.author-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin:10px}.author-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.author-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#666}.created-at[_ngcontent-%COMP%]{font-size:14px;color:#999}.edit-link[_ngcontent-%COMP%]{margin-right:10px;padding:5px 10px;background-color:#333;color:#fff;text-decoration:none;border-radius:5px}.delete-button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#c00;color:#fff;font-size:15px;border:none;border-radius:5px;cursor:pointer;margin:5px}.article-body[_ngcontent-%COMP%]{margin-bottom:10px;padding:10px}p[_ngcontent-%COMP%]{line-height:1.5}.app-tag-list[_ngcontent-%COMP%]{margin-top:10px}"]});let e=i;return e})();export{Oe as ArticleComponent};
