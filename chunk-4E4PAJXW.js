import{a as j}from"./chunk-XWPLU23U.js";import"./chunk-EZA3D2WA.js";import{a as D}from"./chunk-SOGVKUUB.js";import"./chunk-2MMKAX67.js";import"./chunk-IRSJWLOQ.js";import{j as E,l as I,m as z,n as R,p as $}from"./chunk-AJNMQDW7.js";import{e as w}from"./chunk-JDOLN2CX.js";import{$a as n,B as g,Ga as S,Ja as r,Ub as U,Vb as F,Xa as x,Xb as A,Za as o,ab as s,bb as f,ca as L,gb as b,lb as p,mb as v,oc as B,pc as c,qb as M,rb as m,rc as d,sb as h,sc as T,t as C,ta as u,u as _,ub as O,vb as y}from"./chunk-MAJDB3HN.js";var P=T("userProfile"),k=d(P,e=>e.data),N=d(P,e=>e.isLoading),V=d(P,e=>e.error);var G=()=>["/settings"];function H(e,t){e&1&&(n(0,"a",11),p(1,"Edit Profile Settings"),s()),e&2&&o("routerLink",m(1,G))}var J=e=>["/profiles",e],W=()=>({exact:!0}),K=e=>["/profiles",e,"favorites"];function Q(e,t){if(e&1&&(n(0,"div",1)(1,"div",2)(2,"div",3),f(3,"img",4),n(4,"h2"),p(5),s(),n(6,"h4"),p(7),s(),f(8,"hr"),n(9,"div"),p(10," FOLLOW USER BUTTON "),x(11,H,2,2,"a",5),O(12,"async"),s()()(),n(13,"div",6)(14,"div",7)(15,"div",8)(16,"a",9),p(17," My Posts "),s(),n(18,"a",9),p(19," Favorites Posts "),s()(),f(20,"app-feed",10),s()()()),e&2){let a=b();r(3),o("src",a.userProfile.image,S),r(2),v(a.userProfile.username),r(2),v(a.userProfile.bio),r(4),o("ngIf",y(12,9,a.isCurrentUserProfile$)),r(5),o("routerLink",h(11,J,a.userProfile.username))("routerLinkActiveOptions",m(13,W)),r(2),o("routerLink",h(14,K,a.userProfile.username))("routerLinkActiveOptions",m(16,W)),r(2),o("apiUrl",a.getApiUrl())}}var xe=(()=>{let t=class t{constructor(){this.store=u(B),this.route=u(E),this.router=u(I)}ngOnInit(){this.initializeValues(),this.initializeListeners()}initializeValues(){this.slug=this.route.snapshot.paramMap.get("slug"),this.isLoading$=this.store.pipe(c(N)),this.error$=this.store.pipe(c(V)),this.isCurrentUserProfile$=_(this.store.pipe(c(w),g(Boolean)),this.store.pipe(c(k),g(Boolean))).pipe(C(([i,l])=>i.username===l.username))}getApiUrl(){return this.router.url.includes("favorites")?`/articles?favorited=${this.slug}`:`/articles?author=${this.slug}`}initializeListeners(){this.userProfileSubscription=this.store.pipe(c(k)).subscribe(i=>{this.userProfile=i}),this.route.params.subscribe(i=>{this.slug=i.slug,this.fetchUserProfile()})}fetchUserProfile(){this.store.dispatch(j({slug:this.slug}))}};t.\u0275fac=function(l){return new(l||t)},t.\u0275cmp=L({type:t,selectors:[["app-user-profile"]],standalone:!0,features:[M],decls:1,vars:1,consts:[["class","user-profile",4,"ngIf"],[1,"user-profile"],[1,"profile-header"],[1,"profile-picture"],[1,"user-image",3,"src"],["class","edit-profile-link",3,"routerLink",4,"ngIf"],[1,"profile-nav"],[1,"profile-nav-links"],[1,"nav-container"],["routerLinkActive","active",1,"profile-nav-link",3,"routerLink","routerLinkActiveOptions"],[1,"feed",3,"apiUrl"],[1,"edit-profile-link",3,"routerLink"]],template:function(l,q){l&1&&x(0,Q,21,17,"div",0),l&2&&o("ngIf",q.userProfile)},dependencies:[A,U,F,D,$,z,R],styles:[".user-profile[_ngcontent-%COMP%]{display:flex}.profile-header[_ngcontent-%COMP%]{margin:15px;background-color:#f2f2f2;padding:20px;text-align:center;border-radius:20px;width:250px;max-width:300px}.profile-picture[_ngcontent-%COMP%]{margin-bottom:20px;font-size:18px}.user-image[_ngcontent-%COMP%]{margin:0 auto;width:100px;height:100px;object-fit:cover;border-radius:50%}h4[_ngcontent-%COMP%]{margin-bottom:10px}p[_ngcontent-%COMP%]{margin-bottom:20px}.edit-profile-link[_ngcontent-%COMP%]{display:block;background-color:#333;color:#fff;padding:10px;text-decoration:none;border-radius:5px;margin-top:10px}.profile-nav[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px}.feed[_ngcontent-%COMP%]{margin-top:20px}.nav-container[_ngcontent-%COMP%]{margin:10px;display:flex}.profile-nav-link[_ngcontent-%COMP%]{font-size:20px;text-decoration:none;padding:5px 10px;border-radius:3px;color:#333}.profile-nav-link.active[_ngcontent-%COMP%]{background-color:#333;color:#fff}"]});let e=t;return e})();export{xe as UserProfileComponent};
