import{a as M,d as O}from"./chunk-SKS5Y57S.js";import"./chunk-LAIOXAAA.js";import{h as S,i as C}from"./chunk-CG5UB6QT.js";import"./chunk-EZA3D2WA.js";import{e as x}from"./chunk-JDOLN2CX.js";import{$a as l,B as m,Xb as f,a as n,ab as u,ca as a,fb as p,lb as d,oc as b,pc as o,qb as g,rc as c,sc as h,ta as s}from"./chunk-MAJDB3HN.js";var _=h("settings"),v=c(_,t=>t.isSubmitting),k=c(_,t=>t.validationErrors);var q=(()=>{let e=class e{constructor(){this.fb=s(S),this.store=s(b)}ngOnInit(){this.initializeValues(),this.initializeListeners()}ngOnDestroy(){this.currentUserSubscription.unsubscribe()}initializeValues(){this.isSubmitting$=this.store.pipe(o(v)),this.backendErrors$=this.store.pipe(o(k))}initializeListeners(){this.currentUserSubscription=this.store.pipe(o(x),m(Boolean)).subscribe(r=>{this.currentUser=r,this.initializeForm()})}initializeForm(){this.form=this.fb.group({image:this.currentUser.image,username:this.currentUser.username,bio:this.currentUser.bio,email:this.currentUser.email,password:""})}submit(){let r=n(n({},this.currentUser),this.form.value);this.store.dispatch(M({currentUserInput:r}))}logout(){this.store.dispatch(O())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=a({type:e,selectors:[["app-component"]],standalone:!0,features:[g],decls:3,vars:0,consts:[[1,"settings-form"],["type","text",1,"settings-form-logout-button",3,"click"]],template:function(i,U){i&1&&(l(0,"div",0)(1,"button",1),p("click",function(){return U.logout()}),d(2," Or click here to logout "),u()())},dependencies:[f,C],styles:[".settings-form-fieldset[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.settings-form-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem}.settings-form-input[_ngcontent-%COMP%], .settings-form-textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px}.settings-form-button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;border:none;border-radius:4px;background-color:#007bff;color:#fff;cursor:pointer}.settings-form-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.settings-form-profile-picture-input[_ngcontent-%COMP%]{width:100%;max-width:150px;height:150px;object-fit:cover;border:1px dashed #ccc;border-radius:50%;cursor:pointer}.settings-form-bio-input[_ngcontent-%COMP%]{height:10rem;resize:none}.settings-form-logout-button[_ngcontent-%COMP%]{background-color:#fff;color:#dc3545;border:1px solid #dc3545;font-size:20px;margin:10px;display:inline-block;border-radius:10px;cursor:pointer;padding:3px 8px}.settings-form-logout-button[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}"]});let t=e;return t})();export{q as SettingsComponent};
